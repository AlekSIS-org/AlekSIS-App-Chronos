{# -*- engine:django -*- #}
{% extends "core/base.html" %}
{% load bootstrap4 font_awesome i18n week_helpers %}

{% block page_title %}
 {% blocktrans %}List of lessons{% endblocktrans %},
 {{ week|week_start }} - {{ week|week_end }}
{% endblock %}

{% block content %}
 <form method="get">
  {% csrf_token %}
  <ul id="timetable_select_form">
   {{ select_form.as_ul }}
  </ul>
  <input type="submit" value="Select" /> 
 </form>

 {% for weekday, lesson_periods_day in lesson_periods.items %}
  <h3>{{ weekday }}</h3>
  <table class="table table-striped table-bordered table-hover table-responsive-xl">
   <thead>
    <tr>
     <th>{% blocktrans %}Period{% endblocktrans %}</th>
     <th>{% blocktrans %}Groups{% endblocktrans %}</th>
     <th>{% blocktrans %}Subject{% endblocktrans %}</th>
     <th>{% blocktrans %}Teachers{% endblocktrans %}</th>
    </tr>
   </thead>
   <tbody>
    {% for period in lesson_periods_day %}
     <tr>
      <td>{{ period.period.period }}</td>
      <td>{{ period.lesson.subject.name }}</td>
      <td>{{ period.lesson.groups|join:', ' }}</td>
      <td>{{ period.lesson.teachers|join:', ' }}</td>
     </tr>
    {% endfor %}
   </tbody>
  </table>
 {% endfor %}
{% endblock %}
